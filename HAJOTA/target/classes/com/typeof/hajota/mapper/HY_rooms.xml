<?xml version="1.0" encoding="UTF-8"?>

<!-- ===== #26. mapper 기본설정 ===== -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<!-- ===== #27. 루트엘리먼트 & 네임스페이스 설정(프로젝트 전체 내에서 고유해야 한다.) ===== -->
<mapper namespace="HY_rooms">

<!-- 숙소 모든정보를 받는 VO의 개념 -->
	<resultMap type="java.util.HashMap" id="totalroomdetail_resultmap">
    	<result property="roomno" 		column="seq_lodge" 		javaType="int" />
	    <result property="email" 	column="email" 		javaType="String" />
	    <result property="roomname" 	column="name" 	javaType="String" />
	    <result property="lodgetype" 	column="type_lodge" 	javaType="String" />
	    <result property="LAT" 	column="lat" 	javaType="String" />
	    <result property="LNG" 	column="lon" 	javaType="String" />
	    <result property="buildingtype" 	column="type_building" 		javaType="String" />
	    <result property="mainimage" column="img_main" 	javaType="String" />
	    <result property="maxpeople" column="num_of_people" 	javaType="int" />
	    <result property="roomprice" column="room_price" 	javaType="int" />
	    <result property="depositprice" column="deposit_price" 	javaType="int" />
	    <result property="cleanprice" column="clean_price" 	javaType="int" />
	    <result property="totalprice" column="total_price" 	javaType="int" />
	    <result property="roomstatus" column="status" 	javaType="int" />
	    <result property="bathroomcnt" column="NUM_OF_BATHROOM" 	javaType="int" />
	    <result property="bedroomcnt" column="NUM_OF_BEDROOM" 	javaType="int" />
	    <result property="bedcnt" column="NUM_OF_BED" 	javaType="int" />
	    <result property="Hcheckin" column="CHECKIN_TIME" 	javaType="String" />
	    <result property="Hcheckout" column="CHECKOUT_TIME" 	javaType="String" />
	    <result property="elevator" column="ELEVATOR" 	javaType="int" />
	    <result property="wifi" column="WIFI" 	javaType="int" />
	    <result property="aircontroller" column="AIR_CONTROLLER" 	javaType="int" />
	    <result property="heating" column="HEATING" 	javaType="int" />
	    <result property="washingmachine" column="WASHING_MACHINE" 	javaType="int" />
	    <result property="hairdryer" column="HAIR_DRYER" 	javaType="int" />
	    <result property="tv" column="TV" 	javaType="int" />
	    <result property="essentialitem" column="ESSENTIAL_ITEM" 	javaType="int" />
	    <result property="roomsexplain" column="ROOMS_EXPLAIN" 	javaType="String" />
	    <result property="roomsrule" column="ROOMS_RULE" 	javaType="String" />
	    <result property="refundpolicy" column="REFUND_POLICY" 	javaType="String" />
	    <result property="safetyfunction" column="SAFETY_FUNCTION" 	javaType="String" />
	    <result property="localinfomation" column="LOCAL_INFORMATION" 	javaType="String" />
	    <result property="hostname" column="HOSTNAME" 	javaType="String" />
	    
    </resultMap>


	<select id="getlistdetail" parameterType="String" resultMap="totalroomdetail_resultmap">
	
	select seq_lodge , email , name , case when type_lodge = 1 then '집전체' when type_lodge = 2 then '개인실' else '다인실' end as type_lodge 
      , case when type_building = 1 then '아파트' when type_building = 2 then '개인주택' else '빌딩' end as type_building, location
       ,lat,lon, img_main , num_of_people , room_price , deposit_price , clean_price , 
       total_price , status , NUM_OF_BATHROOM , NUM_OF_BEDROOM , NUM_OF_BED ,
       CHECKIN_TIME ,CHECKOUT_TIME , ELEVATOR , WIFI , AIR_CONTROLLER , HEATING
       , WASHING_MACHINE , HAIR_DRYER , TV , ESSENTIAL_ITEM , ROOMS_EXPLAIN,
       ROOMS_RULE , REFUND_POLICY , SAFETY_FUNCTION , LOCAL_INFORMATION
       ,HOSTNAME
    from view_tbl_lodge_totaldetail
	where seq_lodge = #{seq}
	
	</select>
	<!-- 
	<insert id="addFile" parameterType="java.util.HashMap">
	insert into TBL_LODGE_IMAGE(seq_lodge_image, seq_lodge , image)
	values(SEQ_LODGE_IMAGE.nextval , #{seq_lodge} , #{imagefilename})
	</insert>
 -->
</mapper>